<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product Evaluation Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="p-4">
<h2>Product Evaluation Form</h2>

<form th:action="@{/product/submit}" th:object="${product}" method="post">
    <!-- Product Name -->
    <div class="mb-3">
        <label>Product Name:</label>
        <input type="text" th:field="*{productName}" class="form-control" required>
    </div>

    <!-- Purchase Amount -->
    <div class="mb-3">
        <label>Purchase Amount:</label>
        <input type="number" th:field="*{purchaseAmount}" class="form-control" required min="0">
    </div>

    <!-- Payment Type -->
    <div class="mb-3">
        <label>Payment Type:</label>
        <select id="paymentType" name="paymentType" class="form-control" required>
            <option value="" disabled selected>Select Payment Type</option>
            <option value="COD">COD</option>
            <option value="UPI">UPI</option>
            <option value="Credit Card">Credit Card</option>
            <option value="Debit Card">Debit Card</option>
            <option value="Wallet">Wallet</option>
        </select>
    </div>

    <!-- UPI Bank Selection -->
    <div class="mb-3" id="upiBanksDiv" style="display:none;">
        <label>UPI Bank:</label>
        <select id="upiBank" name="bankName" class="form-control">
            <option value="" disabled selected>Select Bank</option>
            <option value="ICICI">ICICI</option>
            <option value="AXIS">AXIS</option>
            <option value="HDFC">HDFC</option>
            <option value="IDFC">IDFC</option>
            <option value="SBI">SBI</option>
            <option value="Other">Other Banks</option>
        </select>
    </div>

    <!-- Credit Card Type Selection -->
    <div class="mb-3" id="creditCardDiv" style="display:none;">
        <label>Credit Card Type:</label>
        <select id="creditCard" name="creditCardType" class="form-control">
            <option value="" disabled selected>Select Card</option>
            <option value="ICICI VISA Credit Card">ICICI VISA Credit Card</option>
            <option value="AXIS My Zone Credit Card">AXIS My Zone Credit Card</option>
            <option value="HDFC Rupay Credit Card">HDFC Rupay Credit Card</option>
            <option value="Flipkart Bajaj Finserv Insta EMI Card">Flipkart Bajaj Finserv Insta EMI Card</option>
            <option value="AmazonPay ICICI Credit Card">AmazonPay ICICI Credit Card</option>
            <option value="Other">Other Bank Cards</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Evaluate Offer</button>
    <div class="mt-3">
        <a th:href="@{/user/dashboard}" class="btn btn-secondary">Back to Dashboard</a>
    </div>
</form>

<script>
    const paymentTypeSelect = document.getElementById('paymentType');
    const upiDiv = document.getElementById('upiBanksDiv');
    const creditCardDiv = document.getElementById('creditCardDiv');

    paymentTypeSelect.addEventListener('change', function () {
        const value = this.value;
        // Show UPI banks if payment type is UPI
        if (value === 'UPI') {
            upiDiv.style.display = 'block';
        } else {
            upiDiv.style.display = 'none';
            document.getElementById('upiBank').selectedIndex = 0;
        }

        // Show credit cards if payment type is Credit Card
        if (value === 'Credit Card') {
            creditCardDiv.style.display = 'block';
        } else {
            creditCardDiv.style.display = 'none';
            document.getElementById('creditCard').selectedIndex = 0;
        }
    });
</script>
</body>
</html>
